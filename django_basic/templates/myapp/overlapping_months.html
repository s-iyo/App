<!-- overlapping_months.html -->

{% extends 'myapp/base.html' %}

{% block title %}Overlapping Months{% endblock %}

{% block content %}
<div style="margin-left: 220px;">
    <h1>ベストシーズン</h1>
    {% if selected_spots %}
        <h4><strong>選択した観光地</strong></h4>
        <div class="d-flex flex-wrap">
            {% for spot in selected_spots %}
                <div style="margin-right: 10px; margin-bottom: 20px; width: 200px; text-align: center;">
                    {% if spot.photo %}
                        <img src="{{ spot.photo.url }}" alt="{{ spot.name }}" width="180" style="margin-bottom: 5px; display: block; margin-left: auto; margin-right: auto;">
                    {% endif %}
                    <div style="font-weight: bold; margin-bottom: 5px;">{{ spot.name }}</div>
                    <div style="color: #555; font-size: 0.9em; text-align: left;">{{ spot.information }}</div>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {% if overlapping_months %}
    <p>
        <h4><strong>重複するベストシーズン</strong></h4>
            {% for month in overlapping_months %}
                <span class="badge bg-warning custom-badge">{{ month.name }}</span>
            {% endfor %}
        </p>
    {% else %}
        <p>重複するベストシーズンは見つかりませんでした。</p>
    {% endif %}

    <br>
    <a href="{% url 'myapp:spot_list' %}" class="btn btn-primary">リストに戻る</a>
    <a href="{% url 'myapp:calculate_overlapping_months' %}" class="btn btn-dark">再度選択</a>
</div>
    {% endblock %}